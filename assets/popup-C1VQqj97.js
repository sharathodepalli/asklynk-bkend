import{c as f,u as h,r as d,j as e,h as x,R as p}from"./auth-tF8yRC6g.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=f("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=f("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();const b=()=>{const{user:n,isLoading:a,checkAuth:c,signOut:l}=h(),[t,s]=d.useState(!0);d.useState(!1),d.useEffect(()=>{c(),chrome.storage.sync.get(["enabled"],r=>{s(r.enabled!==!1)})},[c]);const o=()=>{const r=!t;s(r),chrome.storage.sync.set({enabled:r}),chrome.tabs.query({active:!0,currentWindow:!0},i=>{var u;(u=i[0])!=null&&u.id&&chrome.tabs.sendMessage(i[0].id,{action:r?"enable":"disable"})})},m=()=>{chrome.tabs.query({active:!0,currentWindow:!0},r=>{var i;(i=r[0])!=null&&i.id&&chrome.tabs.sendMessage(r[0].id,{action:"toggleAssistant"})})};return a?e.jsx("div",{className:"p-4 w-64 h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-indigo-600 border-t-transparent"})}):e.jsx("div",{className:"p-4 w-80 max-h-96 bg-gray-50 text-gray-800 overflow-y-auto",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("h1",{className:"text-xl font-bold text-center flex items-center justify-center gap-2",children:[e.jsx(y,{className:"text-indigo-600"}),"AskLynk"]}),n?e.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.full_name}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:n.role})]}),e.jsx("button",{onClick:l,className:"text-red-600 hover:text-red-700",title:"Sign out",children:e.jsx(g,{size:18})})]})}):null,e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:"Enable AskLynk"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:o}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),n&&e.jsx("button",{onClick:m,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Open Chat Overlay"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Supported Platforms"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:["Zoom Meetings","Google Meet","Microsoft Teams","Cisco Webex","Canvas LMS","Blackboard","Moodle"].map(r=>e.jsxs("li",{children:["â€¢ ",r]},r))})]}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:"AskLynk v1.0.0"})]})})};x.createRoot(document.getElementById("popup-root")).render(e.jsx(p.StrictMode,{children:e.jsx(b,{})}));
